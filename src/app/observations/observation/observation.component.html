<div class="om-observation">

    <!-- Session -->
    <mat-form-field
        *ngIf="observation.session">
        <input
            disabled
            matInput
            placeholder="Session"
            value="{{observation.session.begin|date:'medium'}} - {{observation.session.end|date:'medium'}}"/>
    </mat-form-field>

    <!-- Target -->
    <div class="om-target">
        <div *ngIf="observation.target">
            {{observation.target.name}}
        </div>
        <div>
            <om-target-selector
                [target]="observation.target"
                (targetSelected)="onTargetSelected($event)">
            </om-target-selector>
        </div>
    </div>

    <div>
        <!-- Start of observation (Date) -->
        <mat-form-field>
            <input
                matInput
                [matDatepicker]="startDatePicker"
                placeholder="Start Date"
                [(ngModel)]="observation.begin">
            <mat-datepicker-toggle
                matSuffix
                [for]="startDatePicker"></mat-datepicker-toggle>
            <mat-datepicker
                #startDatePicker></mat-datepicker>
            <mat-hint
                align="start">
                <strong>Date of observation</strong>
            </mat-hint>
        </mat-form-field>

        <!-- Start of observation (Time) -->
        <mat-form-field>
            <input
                matInput
                type="time"
                placeholder="Time"/>
            <mat-hint
                align="start">
                <strong>Time of observation</strong>
            </mat-hint>
        </mat-form-field>

    </div>

    <div>
        <!-- End of observation (Date) -->
        <mat-form-field>
            <input
                matInput
                [matDatepicker]="endDatePicker"
                placeholder="End Date"
                [(ngModel)]="observation.end">
            <mat-datepicker-toggle
                matSuffix
                [for]="endDatePicker"></mat-datepicker-toggle>
            <mat-datepicker
                #endDatePicker></mat-datepicker>
            <mat-hint
                align="start">
                <strong>Date of observation</strong>
            </mat-hint>
        </mat-form-field>
    
        <!-- End of observation (Time) -->
        <mat-form-field>
            <input
                matInput
                type="time"
                placeholder="Time"/>
            <mat-hint
                align="start">
                    <strong>Time of observation</strong>
            </mat-hint>
        </mat-form-field>

    </div>

    <!-- Result -->
    <mat-form-field
        *ngIf="observation.result">
        <textarea
            matInput
            placeholder="Notes"
            matTextareaAutosize
            matAutosizeMinRows="5"
            [(ngModel)]="observation.result.description">
        </textarea>
    </mat-form-field>

    <mat-form-field>
        <input
            matInput
            placeholder="Visual rating"/>
    </mat-form-field>

    <h3 class="mat-subheading-2">Equipment</h3>

    <mat-form-field>
        <mat-select
            placeholder="Telecopes, Binocularus &amp; Finders"
            [(ngModel)]="observation.scope.id">
            
            <mat-option>None</mat-option>
            <mat-option *ngFor="let scope of scopes"
                        [value]="scope.id">
                {{ scope.model }}
            </mat-option>
        </mat-select>
    </mat-form-field>


    <mat-form-field>
        <mat-select placeholder="Eyepieces"
                    [(ngModel)]="observation.eyepiece.id">
            <mat-option>None</mat-option>
            <mat-option *ngFor="let eyepiece of eyepieces"
                        [value]="eyepiece.id">
                {{ eyepiece.model }}
            </mat-option>
        </mat-select>
    </mat-form-field>

    <mat-form-field>
        <mat-select placeholder="Filters"
                    [(ngModel)]="observation.filter.id">
            <mat-option>None</mat-option>
            <mat-option *ngFor="let filter of filters"
                        [value]="filter.id">
                {{ filter.model }}
            </mat-option>
        </mat-select>
    </mat-form-field>

    <mat-form-field>
        <mat-select placeholder="Lenses"
                    [(ngModel)]="observation.lens.id">
            <mat-option>None</mat-option>
            <mat-option *ngFor="let lens of lenses"
                        [value]="lens.id">
                {{ lens.model }}
            </mat-option>
        </mat-select>
    </mat-form-field>

</div>