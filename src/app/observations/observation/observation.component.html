<div class="om-observation">

    <!-- Session -->
    <mat-form-field
        *ngIf="observation.session">
        <input
            disabled
            matInput
            placeholder="Session"
            value="{{observation.session.begin|date:'MMM d, y, hh:mm'}} - {{observation.session.end|date:'MMM d, y, hh:mm'}}"/>
    </mat-form-field>

    <!-- Target -->
    <div class="om-target">
        <om-target-selector
            [(target)]="observation.target">
        </om-target-selector>
    </div>

    <!-- Start of observation (Date) -->
    <!-- Start of observation (Time) -->
    <om-date-time-input
        [(dateTime)]="observation.begin"
        datePlaceholder="Start Date"
        timePlaceholder="Time"
        dateHint="Date of observation"
        timeHint="Time of observation">
    </om-date-time-input>

    <!-- End Date -->
    <!-- End of an observation session (Date) -->
    <!-- End of observation session -->
    <om-date-time-input
        [(dateTime)]="observation.end"
        datePlaceholder="End date"
        timePlaceholder="Time"
        dateHint="Date of observation session"
        timeHint="Time of observation">
    </om-date-time-input>

    <!-- Result -->
    <mat-form-field
        *ngIf="observation.result">
        <textarea
            matInput
            placeholder="Notes"
            matTextareaAutosize
            matAutosizeMinRows="5"
            [(ngModel)]="observation.result.description">
        </textarea>
    </mat-form-field>
    
    <h3 class="mat-subheading-2">Equipment</h3>

    <mat-form-field>
        <mat-select
            placeholder="Telecopes, Binocularus &amp; Finders"
            [(ngModel)]="observation.scope.id">
            
            <mat-option>None</mat-option>
            <mat-option *ngFor="let scope of scopes"
                        [value]="scope.id">
                {{ scope.model }}
            </mat-option>
        </mat-select>
    </mat-form-field>


    <mat-form-field>
        <mat-select placeholder="Eyepieces"
                    [(ngModel)]="observation.eyepiece.id">
            <mat-option>None</mat-option>
            <mat-option *ngFor="let eyepiece of eyepieces"
                        [value]="eyepiece.id">
                {{ eyepiece.model }}
            </mat-option>
        </mat-select>
    </mat-form-field>

    <mat-form-field>
        <mat-select placeholder="Filters"
                    [(ngModel)]="observation.filter.id">
            <mat-option>None</mat-option>
            <mat-option *ngFor="let filter of filters"
                        [value]="filter.id">
                {{ filter.model }}
            </mat-option>
        </mat-select>
    </mat-form-field>

    <mat-form-field>
        <mat-select placeholder="Lenses"
                    [(ngModel)]="observation.lens.id">
            <mat-option>None</mat-option>
            <mat-option *ngFor="let lens of lenses"
                        [value]="lens.id">
                {{ lens.model }}
            </mat-option>
        </mat-select>
    </mat-form-field>

</div>