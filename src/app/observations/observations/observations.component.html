<div class="om-recent-observations">
    <div>
        <h2 class="mat-h2">
            My Recent Observations
        </h2>
    </div>

    <mat-paginator
              [length]="totalCount"
              [pageSize]="pageSize"
              [pageSizeOptions]="[5, 10]"
              (page)=onPageChanged($event)>
    </mat-paginator>
    
    <mat-table
        [dataSource]="items"
        class="mat-elevation-z8">

        <ng-container matColumnDef="targetName">
            <mat-header-cell *matHeaderCellDef>Target</mat-header-cell>
            <mat-cell *matCellDef="let observation">{{observation.target.name}}</mat-cell>
        </ng-container>

        <ng-container matColumnDef="result">
                <mat-header-cell *matHeaderCellDef>Result</mat-header-cell>
                <mat-cell *matCellDef="let observation">{{observation.result.description}}</mat-cell>
            </ng-container>

        <ng-container matColumnDef="actions">
            <mat-header-cell *matHeaderCellDef>Actions</mat-header-cell>
            <mat-cell *matCellDef="let observation">
                <button
                    *ngIf="observation.session && observation.session.id"
                    mat-icon-button
                    routerLink="/sessions/{{observation.session.id}}">
                    <mat-icon>
                            view_headline
                    </mat-icon>
                </button>
                <button
                    mat-icon-button
                    routerLink="/observations/{{observation.id}}">
                    <mat-icon>
                            view_headline
                    </mat-icon>
                </button>
            </mat-cell>
        </ng-container>

        <mat-header-row *matHeaderRowDef="displayedColumns"></mat-header-row>
        <mat-row *matRowDef="let row; columns: displayedColumns;"></mat-row>

    </mat-table>

    <mat-paginator
              [length]="totalCount"
              [pageSize]="pageSize"
              [pageSizeOptions]="[5, 10]"
              (page)=onPageChanged($event)>
    </mat-paginator>

    <!-- 
    <div class="grid">
        <div *ngFor="let observation of items">
            
            <div class="target-name-column">
                {{observation.target.name}}
            </div>

            <div class="begin-column">
                {{observation.begin | date:'medium'}}
            </div>
            
            <div class="description-column">
                {{observation.result.description}}
            </div>
            
            <div class="actions-column">
                <div>
                    <a *ngIf="observation.session && observation.session.id"
                        routerLink="/sessions/{{observation.session.id}}">
                        Go To Session
                    </a>
                </div>
                <div>
                    <a routerLink="/observations/{{observation.id}}">
                        Go To Observation
                    </a>
                </div>
            </div>
        </div>
    </div>

    -->
    
</div>